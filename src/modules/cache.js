const fs = require('fs');
const path = require('path');

module.exports = function (inTestMode) {

    let cacheModule = {};
    cacheModule.internal = {};
    cacheModule.api = {};



    cacheModule.internal.init = () => {


    };


    cacheModule.internal.$getImgData = (url) => {

        // todo implement cache
        //return Promise.resolve('data:image/x-icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAx8fHAPv7+wA9PT0Aenp6ANnZ2QAbGxsA4uLiAIyMjABhYWEACwsLACYmJgAvLy8Ay8vLAP///wB1dXUAqampAEpKSgAfHx8AMTExAA8PDwDW1tYATExMACoqKgCSkpIAZ2dnADw8PADz8/MA0dHRABMTEwCmpqYAR0dHAK+vrwADAwMAwcHBAJaWlgA3NzcAa2trALGxsQBSUlIAj4+PAPf39wA5OTkAFxcXAFRUVACRkZEABwcHAJqamgA7OzsAzs7OAODg4AAiIiIAtbW1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADg4ODg4ODg4ODg4ODg4ODg4ODgAAKxYnKQ4ODg4ODg4ODgAXHS4uChQCDg4ODg4ODg4ALgAAAAAdFBwODg4ODg4HIS4ADg4ODgoLDg4ODg4OHS4oAA4ODg4GMxkQDg4ODhIuJQAODgAABjMOMRMaDg4jChQrDg4AFxIBAg4OEyAODhQOBSILMxcMAgQvDg4ODg4JDg4OFzMONA4OMy0ODg4SMw4ODgIYAikwGw4LAw4OBg8ODg4OCDMOJh8OMjMODiQVDg4ODg4TDg4nDA4ODg4ODg4ODg4ODTMODgssDg4ODg4ODg4ODg4zAA4aKg4ODg4ODg4ODg4OHhEODg4ODgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=');
        return Promise.resolve(url);
    };




    cacheModule.api.$getImgData = (url) => {

        return cacheModule.internal.$getImgData(url);
    };


    return cacheModule;

};
